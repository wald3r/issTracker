{"ast":null,"code":"import PouchDB from 'pouchdb';\nexport const db = new PouchDB('issdatabase');\nexport const destroyDb = async () => {\n  try {\n    await db.destroy();\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst deleteCoordinate = async id => {\n  try {\n    const object = await db.get(id);\n    await db.remove(object);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const postCoordinateA = async (latitude, longitude) => {\n  try {\n    await deleteCoordinate('coordinateA');\n    const response = await db.put({\n      _id: 'coordinateA',\n      latitude: latitude,\n      longitude: longitude\n    });\n    console.log(response);\n    return response;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const postCoordinateB = async (latitude, longitude) => {\n  try {\n    await deleteCoordinate('coordinateB');\n    const response = await db.put({\n      _id: 'coordinateB',\n      latitude: latitude,\n      longitude: longitude\n    });\n    console.log(response);\n    return response;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const getCoordinate = async id => {\n  try {\n    const response = await db.get(id);\n    return response;\n  } catch (err) {\n    await db.put({\n      _id: 'coordinateA',\n      latitude: 60,\n      longitude: 30\n    });\n    await db.put({\n      _id: 'coordinateB',\n      latitude: 60,\n      longitude: 30\n    });\n    const response = await db.get('coordinateA');\n    return response;\n  }\n};","map":{"version":3,"sources":["/home/walder/workspace/iss/src/backend/pouchDB.js"],"names":["PouchDB","db","destroyDb","destroy","err","console","log","deleteCoordinate","id","object","get","remove","postCoordinateA","latitude","longitude","response","put","_id","postCoordinateB","getCoordinate"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AAGA,OAAO,MAAMC,EAAE,GAAG,IAAID,OAAJ,CAAY,aAAZ,CAAX;AAEP,OAAO,MAAME,SAAS,GAAG,YAAY;AACnC,MAAG;AACD,UAAMD,EAAE,CAACE,OAAH,EAAN;AACD,GAFD,CAEE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CANM;;AAQP,MAAMG,gBAAgB,GAAG,MAAOC,EAAP,IAAc;AACrC,MAAG;AACD,UAAMC,MAAM,GAAG,MAAMR,EAAE,CAACS,GAAH,CAAOF,EAAP,CAArB;AACA,UAAMP,EAAE,CAACU,MAAH,CAAUF,MAAV,CAAN;AAED,GAJD,CAIE,OAAOL,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CARD;;AAUA,OAAO,MAAMQ,eAAe,GAAG,OAAOC,QAAP,EAAiBC,SAAjB,KAA+B;AAC5D,MAAI;AACF,UAAMP,gBAAgB,CAAC,aAAD,CAAtB;AACA,UAAMQ,QAAQ,GAAG,MAAMd,EAAE,CAACe,GAAH,CAAO;AAC5BC,MAAAA,GAAG,EAAE,aADuB;AAE5BJ,MAAAA,QAAQ,EAAEA,QAFkB;AAG5BC,MAAAA,SAAS,EAAEA;AAHiB,KAAP,CAAvB;AAKAT,IAAAA,OAAO,CAACC,GAAR,CAAYS,QAAZ;AACA,WAAOA,QAAP;AAED,GAVD,CAUE,OAAOX,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAdM;AAgBP,OAAO,MAAMc,eAAe,GAAG,OAAOL,QAAP,EAAiBC,SAAjB,KAA+B;AAC5D,MAAI;AACF,UAAMP,gBAAgB,CAAC,aAAD,CAAtB;AACA,UAAMQ,QAAQ,GAAG,MAAMd,EAAE,CAACe,GAAH,CAAO;AAC5BC,MAAAA,GAAG,EAAE,aADuB;AAE5BJ,MAAAA,QAAQ,EAAEA,QAFkB;AAG5BC,MAAAA,SAAS,EAAEA;AAHiB,KAAP,CAAvB;AAKAT,IAAAA,OAAO,CAACC,GAAR,CAAYS,QAAZ;AACA,WAAOA,QAAP;AAED,GAVD,CAUE,OAAOX,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAdM;AAiBP,OAAO,MAAMe,aAAa,GAAG,MAAMX,EAAN,IAAY;AACvC,MAAG;AACD,UAAMO,QAAQ,GAAG,MAAMd,EAAE,CAACS,GAAH,CAAOF,EAAP,CAAvB;AACA,WAAOO,QAAP;AACD,GAHD,CAGE,OAAMX,GAAN,EAAU;AACV,UAAMH,EAAE,CAACe,GAAH,CAAO;AACXC,MAAAA,GAAG,EAAE,aADM;AAEXJ,MAAAA,QAAQ,EAAE,EAFC;AAGXC,MAAAA,SAAS,EAAE;AAHA,KAAP,CAAN;AAKA,UAAMb,EAAE,CAACe,GAAH,CAAO;AACXC,MAAAA,GAAG,EAAE,aADM;AAEXJ,MAAAA,QAAQ,EAAE,EAFC;AAGXC,MAAAA,SAAS,EAAE;AAHA,KAAP,CAAN;AAMA,UAAMC,QAAQ,GAAG,MAAMd,EAAE,CAACS,GAAH,CAAO,aAAP,CAAvB;AACA,WAAOK,QAAP;AACD;AAEF,CApBM","sourcesContent":["import PouchDB from 'pouchdb';\n\n\nexport const db = new PouchDB('issdatabase')\n\nexport const destroyDb = async () => {\n  try{\n    await db.destroy()\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nconst deleteCoordinate = async (id) => {\n  try{\n    const object = await db.get(id)\n    await db.remove(object)\n\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const postCoordinateA = async (latitude, longitude) => {\n  try {\n    await deleteCoordinate('coordinateA')\n    const response = await db.put({\n      _id: 'coordinateA',\n      latitude: latitude,\n      longitude: longitude\n    });\n    console.log(response)\n    return response\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport const postCoordinateB = async (latitude, longitude) => {\n  try {\n    await deleteCoordinate('coordinateB')\n    const response = await db.put({\n      _id: 'coordinateB',\n      latitude: latitude,\n      longitude: longitude\n    });\n    console.log(response)\n    return response\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\n\nexport const getCoordinate = async id => {\n  try{\n    const response = await db.get(id)\n    return response\n  } catch(err){\n    await db.put({\n      _id: 'coordinateA',\n      latitude: 60,\n      longitude: 30\n    });\n    await db.put({\n      _id: 'coordinateB',\n      latitude: 60,\n      longitude: 30\n    });\n\n    const response = await db.get('coordinateA')\n    return response\n  }\n\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}